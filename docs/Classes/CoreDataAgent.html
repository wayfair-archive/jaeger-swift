<!DOCTYPE html>
<html lang="en">
  <head>
    <title>CoreDataAgent Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset='utf-8'>
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a name="//apple_ref/swift/Class/CoreDataAgent" class="dashAnchor"></a>
    <a title="CoreDataAgent Class Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="../index.html"> Docs</a> (100% documented)</p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="../index.html"> Reference</a>
        <img id="carat" src="../img/carat.png" />
        CoreDataAgent Class Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Classes/BasicTracer.html">BasicTracer</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/CoreDataAgent.html">CoreDataAgent</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/JSONSender.html">JSONSender</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/JSONSender/HttpMethod.html">– HttpMethod</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/JaegerCoreDataClient.html">JaegerCoreDataClient</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/JaegerJSONSender.html">JaegerJSONSender</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/OTSpan.html">OTSpan</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Protocols/Agent.html">Agent</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/CoreDataAgentErrorDelegate.html">CoreDataAgentErrorDelegate</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/SpanConvertible.html">SpanConvertible</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/SpanSender.html">SpanSender</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/Tracer.html">Tracer</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Structs/CoreDataAgentConfiguration.html">CoreDataAgentConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/JaegerBatchProcess.html">JaegerBatchProcess</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/JaegerSpan.html">JaegerSpan</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Log.html">Log</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Span.html">Span</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Span/Context.html">– Context</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Span/Reference.html">– Reference</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Span/Flag.html">– Flag</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Tag.html">Tag</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Tag/TagType.html">– TagType</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Typealiases.html">Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:6Jaeger6Binarya">Binary</a>
              </li>
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:6Jaeger16CompletionStatusa">CompletionStatus</a>
              </li>
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:6Jaeger0A5Agenta">JaegerAgent</a>
              </li>
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:6Jaeger0A6Tracera">JaegerTracer</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>CoreDataAgent</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="kt">CoreDataAgent</span><span class="o">&lt;</span><span class="kt">RawSpan</span><span class="o">&gt;</span> <span class="p">:</span> <span class="kt"><a href="../Protocols/Agent.html">Agent</a></span> <span class="k">where</span> <span class="kt">RawSpan</span> <span class="p">:</span> <span class="kt"><a href="../Protocols/SpanConvertible.html">SpanConvertible</a></span></code></pre>

                </div>
              </div>
            <p>An agent using a Core Data Stack to save a binary representation of a span. The agent will save the spans periodically on disk in order to minimize the memory footprint  and optimize disk writing operations. At regular intervals, spans will be fetched from the disk and send to the provided <code><a href="../Protocols/SpanSender.html">SpanSender</a></code>.</p>

<p>A SQLite store type is used for the persistent store.</p>

          </section>
          <section class="section task-group-section">
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Jaeger13CoreDataAgentC10spanSenderAA04SpanF0_pvp"></a>
                    <a name="//apple_ref/swift/Property/spanSender" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Jaeger13CoreDataAgentC10spanSenderAA04SpanF0_pvp">spanSender</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The point of entry to report spans to a collector.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">let</span> <span class="nv">spanSender</span><span class="p">:</span> <span class="kt"><a href="../Protocols/SpanSender.html">SpanSender</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Jaeger13CoreDataAgentC6config6senderACyxGAA0bcD13ConfigurationV_AA10SpanSender_ptcfc"></a>
                    <a name="//apple_ref/swift/Method/init(config:sender:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Jaeger13CoreDataAgentC6config6senderACyxGAA0bcD13ConfigurationV_AA10SpanSender_ptcfc">init(config:sender:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Creates a new agent from a specified configuration and span sender.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="n">convenience</span> <span class="nf">init</span><span class="p">(</span><span class="nv">config</span><span class="p">:</span> <span class="kt"><a href="../Structs/CoreDataAgentConfiguration.html">CoreDataAgentConfiguration</a></span><span class="p">,</span> <span class="nv">sender</span><span class="p">:</span> <span class="kt"><a href="../Protocols/SpanSender.html">SpanSender</a></span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>config</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The configuration for the core data stack and agent.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>sender</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The point of entry to report spans to a collector.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Jaeger13CoreDataAgentC6record4spanyAA4SpanV_tF"></a>
                    <a name="//apple_ref/swift/Method/record(span:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Jaeger13CoreDataAgentC6record4spanyAA4SpanV_tF">record(span:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>This function adds and saves the span locally.</p>

<p>If the maximum threshold is exceeded  for the current saving period, then the span will be ignored.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">record</span><span class="p">(</span><span class="nv">span</span><span class="p">:</span> <span class="kt"><a href="../Structs/Span.html">Span</a></span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>span</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>A Span sent by the tracer.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>&copy; 2019 <a class="link" href="" target="_blank" rel="external"></a>. All rights reserved. (Last updated: 2019-04-08)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.9.5</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
